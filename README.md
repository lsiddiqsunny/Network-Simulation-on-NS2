# Physical-layer-Simulation-on-NS2

**Steps of Executing ns-2 Codes in A Nutshell**

**Preferred Steps in Coding**

**Tasks to be Performed in .tcl File**

1. Set values of the parameters
    a. Network size
    b. Number and positioning of nodes
    c. Number and other attributes of flows
    d. Energy parameters
    e. Protocols and models for different layers
    f. Etc. ...
2. Initialize ns
3. Open required files such as trace file
4. Set node configuration
5. Create nodes with positioning
6. Create flows and associate them with nodes
7. Set timings of different events
8. Write tasks to do after finishing the simulation in a procedure named finish
9. Run the simulation
10. ....

**Tasks to be Performed in .awk File**

1. Set initial values of variables (if needed) pertinent to different metrics such as # of sent packets,
    total energy consumption, etc.
2. Extract values in each row in different variables following indexing of the values

```
.tcl file .awk file .sh file .cpp file
```
```
Excel or similar tools Graphs
```
```
Measure values of metrics .awk file All simulated events .tr file
```
```
.tcl file Create topology .cpp file (existing or modified) Simulate network
```
```
.sh file
```

3. Perform logical and arithmetic operations on the extracted values to update the variables
    pertinent to different metrics
4. Print values of the metrics

[NOTE: Values may differ based on several things such as protocols. For example, TCP and UDP provide
different values at the same index.]

**Tasks to be Performed in .sh File**

1. Navigate to appropriate folder
2. Set initial values of the variables maintaining statistics of different metrics such as average # of
    sent packets, average total energy consumption, etc.
3. Conduct iterations; in each iteration, vary the intended parameter and –
    a. Run the .tcl file
    b. Run .awk file on the generated .tr file
    c. Make summary of values of all metrics generated by the current run
4. Print outcomes of all iterations

**Tasks to be Performed in .cpp File**

1. This is the trickiest part of your project. You can do different modifications in the .cpp files such
    as –
       a. Modify the mechanism of RTT calculation
       b. Modify the congestion control mechanism in TCP
2. After you change a .cpp file, you need to perform “make” operation to ensure that your changes
    take effect in the next simulation run.

[

NOTE:

1. In some cases, you may need to perform “make clean” operation before “make” operation.
2. To visualize whether your modification is taking effect or not, you can put a printf along with
    your modification.
3. Sometimes, even after doing everything, things may not work for unknown reasons. In such a
    case, try with a new installation conforming a match between the versions of Linux and ns-2.

]


**Term Assignment**

1. Simulate the following networks as per assignment:

	1. 802_11
	2. 802_15.4
2. In your simulation –
    a. The number of nodes need to be varied as 20, 40, 60, 80, and 100
    b. Besides, you need to vary the follow parameters –
       i. Number of flows (10, 20, 30, 40, and 50)
ii. Number of packets per second (100, 200, 300, 400, and 500)
iii. Speed of nodes (5 m/s, 10 m/s, 15 m/s, 20 m/s, and 25 m/s) [Only in case of
having mobility]
iv. Coverage area (square coverage are varying one side as Tx_range, 2 x Tx_range,
3 x Tx_range, 4 x Tx_range, and 5 x Tx_range) [Only in case of having static
nodes only]
3. In all cases, you need to measure the following metrics and plot graphs –
    a. Network throughput
    b. End-to-end delay
    c. Packet delivery ratio (total # of packets delivered to end destination / total # of packets
       sent)
    d. Packet drop ratio (total # of packets dropped / total # of packets sent)
    e. Energy consumption [for wireless nodes]
4. ** While doing the above simulations, you MUST simulate at least the following –
    a. A modified mechanism done by yourself, which can be one or a combination of the
       following –
          i. Modified mechanism for RTT calculation
ii. Modified mechanism for congestion control in TCP
iii. Modified mechanism of routing
iv. Modified MAC layer protocol
v. Or any other similar modification
    b. Corresponding existing mechanisms in ns- 2
5. The modification you want to make can be anything from any existing paper or from your own
    thinking. However, the codes that would be made available to you will NOT be counted as your
    modification.


6. You need to submit a report mentioning the following-
    a. Network topologies under simulation
    b. Parameters under variation
    c. Modifications made in the simulator
    d. Results with graphs
    e. Summary findings
7. Bonus: There are several places where you can get bonus. Examples include –
    a. Cross transmission of packets, i.e., transmission of packets from one type of node to
       that of another type (example: simulating a flow n1->n2->...->nx, where the first few
       nodes are wired and the rest nodes are wireless)
    b. Simulating any network not mentioned above (for example, 5G, LTE, WiMax, Satellite
       network, nanonetworks, cognitive radio networks, etc.)
    c. Measuring any metric not mentioned above (for example, per-node throughput,
       variation in queue size over time, etc.)
    d. Any brand new idea with a good performance improvement and not existing in the
       literature could be worth of double bonus!

[NOTE: It is NOT needed that you will come up with improvement in performance with your
modified mechanism. Rather it is needed to make sure that what changes you would have done and
with what intuition.]


This project is done for CSE322 : https://github.com/lsiddiqsunny/CSE-322-Computer-Networks-Sessional/

